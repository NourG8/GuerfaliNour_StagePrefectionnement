<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>Admin</title>
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    
    <link rel="stylesheet" href="/css/fontawesome-free-5.15.1-web/css/all.css">
    <link href="https://fonts.googleapis.com/css?family=Acme" rel="stylesheet"/>
    
    <link rel="stylesheet" type="text/css"
	href="../static/css/style.css"
	th:href="@{/style.css}" />
    
</head>

<body>
<div th:replace="NavBarDashboard"></div>

    <div class="main-content">
    <br><br>
        <main>
 <!-- <h1>Liste des Operatios</h1> -->
  
  <div class="info" role="alert" th:text="${success}" th:if="${success}"></div>
            <div class="error" role="alert" th:text="${error}" th:if="${error}"></div>
             <div class="success" role="alert" th:text="${successInsertion}" th:if="${successInsertion}"></div>
             <div class="success" role="alert" th:text="${successDelete}" th:if="${successDelete}"></div>
             <div class="success" role="alert" th:text="${successUpdate}" th:if="${successUpdate}"></div>
             <div class="success" role="alert" th:text="${succes}" th:if="${succes}"></div>
             <div class="info" role="alert" th:text="${succesDesactivate}" th:if="${succesDesactivate}"></div>
  

  <div class="recent-grid">
                <div class="projects">
                    <div class="card">
                        <div class="card-header">
                            <h3>Liste des operations pour les materiaux</h3>

                     <!--     <a th:href="@{/users/export/pdf}">  <button>Export to PDF <span class="las la-arrow-right"> -->
                            </span></button></a>
                        </div>

                        <div class="card-body">
                            <div class="table-responsive">
                                <table width="100%">
                                    <thead>
                                        <tr sec:authorize="isAuthenticated()">
            <td scope="col" style="text-align:center;">#</td>
            <td scope="col" style="text-align:center;">Id produit</td>
            <td style="text-align:center;" scope="col">Id Op</td>
            <td scope="col" style="text-align:center;">Nom Operation</td>
            <td scope="col" style="text-align:center;">Nature de l'Operation</td>
            <td scope="col" style="text-align:center;">Intitule</td>
             <td scope="col" style="text-align:center;">Nom de l'ouvrier</td>
            <td scope="col" style="text-align:center;">Date retour</td>
            <td scope="col" style="text-align:center;" sec:authorize="hasRole('ADMIN')">Modifier</td>
             <td scope="col" style="text-align:center;"sec:authorize="hasRole('ADMIN')">Supprimer</td>
        </tr>
        </thead>
        <tbody >
       
        <tr th:each="u:${opProd}" th:if="${u.p.class.simpleName=='Materiel'}">
        
   
            <td style="text-align:center;" th:text="${u.id}"></td>
            <td style="text-align:center;" th:text="${u.code}"></td>
            <td style="text-align:center;" th:text="${u.idOp}"></td>
            <td style="text-align:center;" th:text="${u.nomOp}"></td>
            <td style="text-align:center;" th:text="${u.natureOp}"></td>
            <td style="text-align:center;" th:text="${u.intitule}"></td>
             <td style="text-align:center;" th:text="${u.username}"></td>
             <td style="text-align:center;" th:text="${u.dateRetour}"></td>
             
             <td style="text-align:center;margin-left:20px;" sec:authorize="hasRole('ADMIN')">
             <a style="text-align:center;"  th:href="@{/updateOpMat/{idOp}/{idOpProd}/{code}(idOp=${u.idOp},idOpProd=${u.id},code=${u.code})}"><i Style="color:#2874A6; text-align:center;margin-left:15px;" class="la la-pencil la-2x"></i></a>
			</td>
             
             <td  sec:authorize="hasRole('ADMIN')" style="text-align:center;margin-left:20px">
			    <!--  <a>Imprimer<button type="button" class="btn btn-outline-info"><i class="fas fa-pen"></i></button></a> -->
		 <a style="text-align:center;" onclick="return confirm('etes vous sure ?')" th:href="@{/DeleteOperationsM/{idList}/{idOp}/{id}(idList=${u.idList},idOp=${u.idOp},id=${u.id})}"><i Style="color:red;text-align:center;" class="la la-trash-o la-2x"></i></a>
            </td> 
             
</tr>

        </tbody>
    </table>

</div>
                        </div>

                    </div>
                    
                    
                    
                </div>
  <script>
   var hamburger = document.querySelector(".hamburger");
 	hamburger.addEventListener("click", function(){
		document.querySelector("body").classList.toggle("active");
 	})
  </script> 
     
            </div>
        </main>

    </div>

</body>

</html>>